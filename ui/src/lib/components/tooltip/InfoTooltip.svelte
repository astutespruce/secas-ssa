<script lang="ts">
	import QuestionCircle from '~icons/fa-regular/question-circle'
	import * as Tooltip from '$lib/components/ui/tooltip'
	import * as Dialog from '$lib/components/ui/dialog'

	const { title, description, 'aria-label': ariaLabel = null } = $props()
</script>

<!-- only show tooltip on desktop version -->
<div class="hidden md:block">
	<Tooltip.Provider delayDuration={0}>
		<Tooltip.Root disableHoverableContent disableCloseOnTriggerClick>
			<Tooltip.Trigger aria-label={ariaLabel} class="mt-2">
				<QuestionCircle class="cursor-pointer text-grey-4 hover:text-grey-9" aria-hidden="true" />
			</Tooltip.Trigger>
			<Tooltip.Content side="right" sideOffset={2} class="pt-2 pb-4 px-3 max-w-md">
				<h4 class="text-base">
					{title}
				</h4>
				<p class="text-sm leading-tight">
					{description}
				</p>
			</Tooltip.Content>
		</Tooltip.Root>
	</Tooltip.Provider>
</div>

<!-- mobile is a dialog instead -->
<div class="block md:hidden">
	<Dialog.Root>
		<Dialog.Trigger aria-label={ariaLabel}>
			<QuestionCircle
				class="size-5 cursor-pointer text-grey-4 hover:text-grey-9"
				aria-hidden="true"
			/>
		</Dialog.Trigger>
		<Dialog.Content class="z-10000">
			<Dialog.Header class="border-b pb-2 border-b-grey-3">
				<Dialog.Title class="text-left text-2xl">{title}</Dialog.Title>
			</Dialog.Header>
			<p class="text-md">
				{description}
			</p>
		</Dialog.Content>
	</Dialog.Root>
</div>
